# aqueduct
Fortnox data portal






oath flow:

client redirects to https://apps.fortnox.se/oauth-v1/auth?client_id=beosvu4GAz9p&scope=profile20settings%20article%20companyinformation%20order&state=1&access_type=offline&response_type=code&account_type=service 
fortnox lets the user log in and approve the request
fortnox redirects to the redirect URL eg. (https://mysite.org/activation?code={Authorization-Code}&state=somestate123)
__
Authorization-Code and your Client-Secret can then be used to request an Accestoken
URL: POST https://apps.fortnox.se/oauth-v1/token
Headers:
CREDENTIALS is the Base64 encoding of ClientId and Client-Secret, separated with a colon.
Example:
ClientId: 8VurtMGDTeAI
ClientSecret: yFKwme8LEQ
Credentials: OFZ1cnRNR0RUZUFJOnlGS3dtZThMRVE=

Content-type: application/x-www-form-urlencoded
Authorization: Basic {Credentials}

Body:
grant_type=authorization_code&code={Authorization-Code}&redirect_uri=https://mysite.org/activation

Response:
{
  "access_token": "xyz...",
  "refresh_token": "a7302e6b-b1cb-4508-b884-cf9abd9a51de",
  "scope": "companyinformation",
  "expires_in": 3600,
  "token_type": "Bearer"
}




curl -X "GET" "https://api.fortnox.se/3/orders" -H "Authorization: Bearer eyJ0eXAiOiJKV1QiLCJhbGciOiJIUzI1NiJ9.eyJ1c2VySWQiOjIsInRlbmFudElkIjoxMjQ2NjI0LCJjbGllbnRJZCI6ImJlb3N2dTRHQXo5cCIsInJpZ2h0c0FzSnNvbiI6Ikg0c0lBQUFBQUFBQUE0VVkyWTdiTnZCZjh0ejRIeFliYkxGQW13VGRCRVZSRkFJbGpXVFd2TUREanZyMUhWN1NVSlkzYjVxRGMzRXU2dThQRm95MjNwMzY2Y012SzhEQ3lEMkJoZTc3aGNCU2owSEEwekNBY3dUZFQ1MDc2MXRuUWVvcmpOMVZoK0VNdHJQNlJ0a3VWTldOV1RqcjRJRGdCaXNKNUxta1JLMGJTNVZvN0ZTVU5pUFFqNmRvRXhOaUVCeVVkeG5IQnMrdnpFT0xIQ1ZYM0htN0VsaDFzWjlPRTFkTURaeUp2NERaTlwvQ2VxN21RaXFNWkdDemdlY2ZWVmZNQlVJSU5URkFTRXg1c3BXZUNZWXVNZG9SNUJ1ZDVjZ1BSSStOaThleXlhYnBaN3VHRkNcL2ltM3hiblFiNW9NYUswSWg4TkJOR0tMclk1TkhvNE02bUQ4a1U0aU1adXh3Rit4TWdWazhCTzJzckdcL3FTOWRYMkt0bGltM0FTN29DUTNHdzI5MXBmV3VCeVF3dFNvMnF6amtzMkYzYkVydEFKWThHZHQrWDhRWlY4QXpKSHg3WWxvMXIwbFluS045UzFFTG00Zk15NjNtRm00Z3ZXaXI4Ukc3ekRFMkZzWU5HYVI0R3k3NXRXSmtnYlZBalcySXFqVnlOcHFRU0ZhRXFFcFZvMFRiVkR1YnFaQlZCK0VIaTU0anV2eEhTXC93cnNBWEc4OVlQOW91UXM4MUpBTndjNWhUeERseG1VNHQ1SHNcL3Q1aGQwOEUrUUs5RlQxT3lQYUtKMnhIRW5KWE5BVzNIbFRlWERNV3djYVRDb2lFVXZxT1JveGdJU3FibVVaVUp2VGtYY2Z2S3FvYVFZeGFqekZ4amZQMld5OGR5TWNqRjRsVmhKNlJoaUtBTnFzdXFLZUlNdzJYSDM4WFUyWGpLMTRVSlRFaG1lWkNweXgraHQzTXRXb3lhNkdRZTI2T1wvWnlRc1JJR0ZHVk1LcHdnbWo5TXE5WWVNVDEyK2M1NzU2dUkraWhIM29FRTFvaDJHUVRLaVAxZFhoVHo3UWFCWUt5aGtKeU1tT0ZPWENXREVRVmlcL0dtd016MU8rcGdadnRQUEp3amlVVXZtdW8rYWozXC9EdVZIdmNjOEFhazJESklmZnpVMlwvQkdCeHErMU1ZUCt1RCtUZ0hQZ0tPZHJaODBxOHBOOUhKTjU4NjZxQ2xUTDZ5OFZsTHc5UkNJbG1JS2ZaZmJ1cWVJcG05Z004aEs2aTZVTkN6elwvektoODlCOWltWWhiSjIxNTJXWndzamRrcDBsaXJTUFY3MkJ1Tzg4MnVcL29BTGVwSHZDbmhzRkRMVmxGbnJNdkVcL2NzVjdBK0RTT3YyR0pLZ2U1ZzRvQmZibXNGWmdSYlZjU3MwVWVoZDN0RXdpTzA0QkRSWmY2XC9mMllhZ1JUWDNON2ZQUFlkTCt4bW1SSXhPMkZwaTVpQUJlMFY5VmpMdUdONUdLS21sdGpMZ1wvSGM5TnU3N290TGxVbjVyQWR1QTU3VUlzb1wvWVZnU2xPUEliVHlKQmVENDdyTGxuUTREM0dyNllhVXNJY2NzU2hHcmlaOVNPVUtTMHZGQ2I0eW9FNnNWUzZjZElkSGh0SlFDbkcyT3BqSVQySFA1bTRkV2tVbzNyOGhIYk5nRXp1QnMwTTdXUVhFV0EyNU9nb2lYbEtMRVhoZWREZzd2ZFdpMnlJZWFYM0FnWWdYMTJrVGN6NG83cGZXU3JONjFicU0yN005RHNhaklNVmRrRjloTXp6NVZjQXpOb0xXN09Rb1pjRklSS1ZOZExaU1JTRGIzVXFwNFl5M0VaUUx2UnNzNzRFRWk2cEFvNHpWXC84TGdEejFBbWpOdzhkVEN6VnRVSlZnUG9zTDd3ZkF3M2xjT3QwMUdtVEZOS2oySWFKTVllQlQ1TUUreHF2YzVocHVSUHN5RzJsWWl4UzhHcXJBWWFLU3ZsNVd2am9aS1lpVmlHclltaExTMjJVMjVDdExWanZQUWY4Z1B2d1ByeWw1VEx4SVVMdXhpUTVTN29vYTNBZko2Wk10N3FzdWFsZ2VxWFU1N3VHaVl0QkQ2Rmd3bDBhY0xSYTRwdVNITEVLUzRPSW5MWEhZVUg2OVBMd0I3b1wvNkVcL3ZzclJRN1lnWEZNK0ZZc1cwZjl4bGdHOTE2aXNkZ0dnaGx6c3JEWkFzUjNRQlFCeG5cL0hhM3VxdU5qcHA3eEJuVklmXC9LeDkyWkVyT2liTUh6bGhWaHhlQXArV1BOZnp6S21VK2tGeGRITWtFdWhzWVhPYUxlVXpkcENjT1FqVUVUSGZsVjNreEdmS3pHM1pCNDBJN3VHR050dEVQaDZuaWZUdVNFMGM3NDNWeEhBM1doUDJjTHdtU3Q2Z3YxcU1SbHFodnRqeVwvRjQxWm0zdmNHUVJyd3E3QWFyOVZldnh3S2RIWkJQaU05N0JuZFQ0WFB6NmlMamZVcHBcL0ZnVHFtTUV5eTF2OFBiYkRZQlVLZmJ2MWQyOHpjZitnRVE5M2tUaDdoTWF3bmRhdkJydVR2UkhLdnh2QWVIcDNabW9VK1dvM0RyVGJoRjV3ZDg2VStDdXBcL2s5SzMyUjdUN0QyNXh5NEJLMkZrYURONDB4MGpzK3FsR1RDa09yT0IzSUR5OXp4ZnhOMnVUUkRWbVQ4MzdTWlVub1ZOa3FOU1JJZlppXC9hZm90UWRJcmwrZlBoblwvOEJHMDlNTXJRVEFBQT0iLCJzY29wZXMiOlsib3JkZXIiXSwiYXV0aHNvdXJjZSI6Ik9BVVRIMiIsImlkIjoiY2MzOGVkMDkwYzM3MjVjMWUxMDA3ZmQyZmEwYzhkNTdlNzdjZWNkMSIsImp0aSI6ImNjMzhlZDA5MGMzNzI1YzFlMTAwN2ZkMmZhMGM4ZDU3ZTc3Y2VjZDEiLCJpc3MiOiJodHRwczpcL1wvYXBpLmZvcnRub3guc2VcL29hdXRoMiIsImF1ZCI6ImJlb3N2dTRHQXo5cCIsInN1YiI6IjJAMTI0NjYyNCIsImV4cCI6MTY2NjE2ODQ4NCwiaWF0IjoxNjY2MTY0ODg0LCJ0b2tlbl90eXBlIjoiYmVhcmVyIiwic2NvcGUiOiJvcmRlciJ9.WJiYFi78q0cyk1vX_U_98dxdQaSNkps7iHCsyCaO8vo" -H "Content-Type: application/json" -H "Accept: application/json"
{"access_token":"eyJ0eXAiOiJKV1QiLCJhbGciOiJIUzI1NiJ9.eyJ1c2VySWQiOjIsInRlbmFudElkIjoxMjQ2NjI0LCJjbGllbnRJZCI6ImJlb3N2dTRHQXo5cCIsInJpZ2h0c0FzSnNvbiI6Ikg0c0lBQUFBQUFBQUE0VVkyWTdiTnZCZjh0ejRIeFliYkxGQW13VGRCRVZSRkFJbGpXVFd2TUREanZyMUhWN1NVSlkzYjVxRGMzRXU2dThQRm95MjNwMzY2Y012SzhEQ3lEMkJoZTc3aGNCU2owSEEwekNBY3dUZFQ1MDc2MXRuUWVvcmpOMVZoK0VNdHJQNlJ0a3VWTldOV1RqcjRJRGdCaXNKNUxta1JLMGJTNVZvN0ZTVU5pUFFqNmRvRXhOaUVCeVVkeG5IQnMrdnpFT0xIQ1ZYM0htN0VsaDFzWjlPRTFkTURaeUp2NERaTlwvQ2VxN21RaXFNWkdDemdlY2ZWVmZNQlVJSU5URkFTRXg1c3BXZUNZWXVNZG9SNUJ1ZDVjZ1BSSStOaThleXlhYnBaN3VHRkNcL2ltM3hiblFiNW9NYUswSWg4TkJOR0tMclk1TkhvNE02bUQ4a1U0aU1adXh3Rit4TWdWazhCTzJzckdcL3FTOWRYMkt0bGltM0FTN29DUTNHdzI5MXBmV3VCeVF3dFNvMnF6amtzMkYzYkVydEFKWThHZHQrWDhRWlY4QXpKSHg3WWxvMXIwbFluS045UzFFTG00Zk15NjNtRm00Z3ZXaXI4Ukc3ekRFMkZzWU5HYVI0R3k3NXRXSmtnYlZBalcySXFqVnlOcHFRU0ZhRXFFcFZvMFRiVkR1YnFaQlZCK0VIaTU0anV2eEhTXC93cnNBWEc4OVlQOW91UXM4MUpBTndjNWhUeERseG1VNHQ1SHNcL3Q1aGQwOEUrUUs5RlQxT3lQYUtKMnhIRW5KWE5BVzNIbFRlWERNV3djYVRDb2lFVXZxT1JveGdJU3FibVVaVUp2VGtYY2Z2S3FvYVFZeGFqekZ4amZQMld5OGR5TWNqRjRsVmhKNlJoaUtBTnFzdXFLZUlNdzJYSDM4WFUyWGpLMTRVSlRFaG1lWkNweXgraHQzTXRXb3lhNkdRZTI2T1wvWnlRc1JJR0ZHVk1LcHdnbWo5TXE5WWVNVDEyK2M1NzU2dUkraWhIM29FRTFvaDJHUVRLaVAxZFhoVHo3UWFCWUt5aGtKeU1tT0ZPWENXREVRVmlcL0dtd016MU8rcGdadnRQUEp3amlVVXZtdW8rYWozXC9EdVZIdmNjOEFhazJESklmZnpVMlwvQkdCeHErMU1ZUCt1RCtUZ0hQZ0tPZHJaODBxOHBOOUhKTjU4NjZxQ2xUTDZ5OFZsTHc5UkNJbG1JS2ZaZmJ1cWVJcG05Z004aEs2aTZVTkN6elwvektoODlCOWltWWhiSjIxNTJXWndzamRrcDBsaXJTUFY3MkJ1Tzg4MnVcL29BTGVwSHZDbmhzRkRMVmxGbnJNdkVcL2NzVjdBK0RTT3YyR0pLZ2U1ZzRvQmZibXNGWmdSYlZjU3MwVWVoZDN0RXdpTzA0QkRSWmY2XC9mMllhZ1JUWDNON2ZQUFlkTCt4bW1SSXhPMkZwaTVpQUJlMFY5VmpMdUdONUdLS21sdGpMZ1wvSGM5TnU3N290TGxVbjVyQWR1QTU3VUlzb1wvWVZnU2xPUEliVHlKQmVENDdyTGxuUTREM0dyNllhVXNJY2NzU2hHcmlaOVNPVUtTMHZGQ2I0eW9FNnNWUzZjZElkSGh0SlFDbkcyT3BqSVQySFA1bTRkV2tVbzNyOGhIYk5nRXp1QnMwTTdXUVhFV0EyNU9nb2lYbEtMRVhoZWREZzd2ZFdpMnlJZWFYM0FnWWdYMTJrVGN6NG83cGZXU3JONjFicU0yN005RHNhaklNVmRrRjloTXp6NVZjQXpOb0xXN09Rb1pjRklSS1ZOZExaU1JTRGIzVXFwNFl5M0VaUUx2UnNzNzRFRWk2cEFvNHpWXC84TGdEejFBbWpOdzhkVEN6VnRVSlZnUG9zTDd3ZkF3M2xjT3QwMUdtVEZOS2oySWFKTVllQlQ1TUUreHF2YzVocHVSUHN5RzJsWWl4UzhHcXJBWWFLU3ZsNVd2am9aS1lpVmlHclltaExTMjJVMjVDdExWanZQUWY4Z1B2d1ByeWw1VEx4SVVMdXhpUTVTN29vYTNBZko2Wk10N3FzdWFsZ2VxWFU1N3VHaVl0QkQ2Rmd3bDBhY0xSYTRwdVNITEVLUzRPSW5MWEhZVUg2OVBMd0I3b1wvNkVcL3ZzclJRN1lnWEZNK0ZZc1cwZjl4bGdHOTE2aXNkZ0dnaGx6c3JEWkFzUjNRQlFCeG5cL0hhM3VxdU5qcHA3eEJuVklmXC9LeDkyWkVyT2liTUh6bGhWaHhlQXArV1BOZnp6S21VK2tGeGRITWtFdWhzWVhPYUxlVXpkcENjT1FqVUVUSGZsVjNreEdmS3pHM1pCNDBJN3VHR050dEVQaDZuaWZUdVNFMGM3NDNWeEhBM1doUDJjTHdtU3Q2Z3YxcU1SbHFodnRqeVwvRjQxWm0zdmNHUVJyd3E3QWFyOVZldnh3S2RIWkJQaU05N0JuZFQ0WFB6NmlMamZVcHBcL0ZnVHFtTUV5eTF2OFBiYkRZQlVLZmJ2MWQyOHpjZitnRVE5M2tUaDdoTWF3bmRhdkJydVR2UkhLdnh2QWVIcDNabW9VK1dvM0RyVGJoRjV3ZDg2VStDdXBcL2s5SzMyUjdUN0QyNXh5NEJLMkZrYURONDB4MGpzK3FsR1RDa09yT0IzSUR5OXp4ZnhOMnVUUkRWbVQ4MzdTWlVub1ZOa3FOU1JJZlppXC9hZm90UWRJcmwrZlBoblwvOEJHMDlNTXJRVEFBQT0iLCJzY29wZXMiOlsib3JkZXIiXSwiYXV0aHNvdXJjZSI6Ik9BVVRIMiIsImlkIjoiY2MzOGVkMDkwYzM3MjVjMWUxMDA3ZmQyZmEwYzhkNTdlNzdjZWNkMSIsImp0aSI6ImNjMzhlZDA5MGMzNzI1YzFlMTAwN2ZkMmZhMGM4ZDU3ZTc3Y2VjZDEiLCJpc3MiOiJodHRwczpcL1wvYXBpLmZvcnRub3guc2VcL29hdXRoMiIsImF1ZCI6ImJlb3N2dTRHQXo5cCIsInN1YiI6IjJAMTI0NjYyNCIsImV4cCI6MTY2NjE2ODQ4NCwiaWF0IjoxNjY2MTY0ODg0LCJ0b2tlbl90eXBlIjoiYmVhcmVyIiwic2NvcGUiOiJvcmRlciJ9.WJiYFi78q0cyk1vX_U_98dxdQaSNkps7iHCsyCaO8vo","expires_in":3600,"token_type":"bearer","scope":"order","refresh_token":"bf36c3a7330cd7d2e2104c26ae72324981d83d65"}